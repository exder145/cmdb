# CMDB 项目开发记录

## 2024-03-10

### 环境搭建

- 安装并配置了 Python 虚拟环境
- 安装了项目依赖包
- 修复了 LDAP 模块导入问题，创建了模拟 LDAP 模块
- 安装并配置了 Redis 服务
- 使用 cnpm 安装了前端依赖

### 数据导入

详细脚本见： F:\实习相关\cmdb 开发\spug\spug_api\scripts
分别用于：导入主机，删除主机，导入详细信息

### 自动化启动脚本

- 创建了 `start_spug.bat` 批处理文件，用于一键启动整个开发环境
- 脚本自动启动 Redis、后端和前端服务
- 解决了中文路径和字符编码问题
- 添加了路径检查和错误处理逻辑

## 2024-03-11

### Dashboard 界面开发记录

- 完成了 Dashboard 界面的开发，主要功能包括：
  - 显示主机总数、在线主机、即将到期的主机数量和月度支出等统计信息。
  - 使用`StatisticsCard`组件展示各项统计数据，提供直观的视觉效果。
  - 实现了操作系统分布和服务器配置分布的图表，使用`Chart.js`库进行图表渲染。
  - 动态加载`Chart.js`库，确保图表在 DOM 元素渲染后正确显示。
  - 添加了错误处理逻辑，确保在图表渲染失败时能够输出错误信息。
  - 目前界面为静态界面！
  -

![image-20250311103518965](https://exder-1333988393.cos.ap-beijing.myqcloud.com/image-20250311103518965.png)

![image-20250311103539701](https://exder-1333988393.cos.ap-beijing.myqcloud.com/image-20250311103539701.png)

### 导出工具开发

- 开发了主机信息导出功能：
  - 支持自定义导出字段
  - 提供数据预览
  - 支持批量选择主机
  - 优化日期显示：修复 Excel 日期格式问题
  - 规范化数据格式：系统图标、IP 地址、CPU/内存单位
  - 提升导出体验：修复可访问性问题，支持中文编码

![image-20250311144431238](https://exder-1333988393.cos.ap-beijing.myqcloud.com/image-20250311144431238.png)

![image-20250311144443795](https://exder-1333988393.cos.ap-beijing.myqcloud.com/image-20250311144443795.png)
